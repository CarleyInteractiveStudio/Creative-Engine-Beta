<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creative Engine</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="image/Creative_Engine_beta.png" type="image/png">
    <style>
      #supabase-config-warning {
        background-color: #fff3cd;
        color: #664d03;
        padding: 20px;
        text-align: center;
        font-size: 16px;
        border: 2px solid #ffc107;
        font-family: sans-serif;
        margin: 20px;
        border-radius: 8px;
      }
      #supabase-config-warning h2 {
        color: #664d03;
        margin-top: 0;
      }
      #supabase-config-warning code {
        background-color: #d3d3d3;
        padding: 5px 8px;
        border-radius: 4px;
        font-weight: bold;
      }
    </style>
</head>
<body>
  <div id="verifying-overlay" style="display: none;">
    <div class="spinner"></div>
    <p>Verificando...</p>
  </div>

    <div class="container">
        <header>
            <img src="image/Creative_Engine_beta.png" alt="Creative Engine Logo" id="header-logo">
            <h1>Creative Engine</h1>
            <div id="auth-status-container">
                <button id="btn-auth-action">Iniciar Sesi√≥n</button>
            </div>
        </header>

    <main>
        <div id="welcome-view">
            <!-- Contenedor para la secuencia de introducci√≥n animada -->
            <div id="intro-sequence">
                <div id="intro-step-1" class="intro-step">
                    <img src="image/Creative_Engine_beta.png" alt="Creative Engine Logo">
                </div>
                <div id="intro-step-2" class="intro-step">
                    <img src="image/Logo_C.png" alt="Carley Interactive Studio Logo">
                </div>
            </div>

            <!-- Contenido principal que aparecer√° despu√©s de la intro -->
            <div id="main-content" class="intro-step">
                <section id="welcome">
                    <h2>Creative Engine</h2>
                    <p id="motivational-quote">Tu juego empieza aqu√≠. Lo que imagines, lo construyes. üöÄüß†</p>
                    <p class="description">
                        Un motor de videojuegos 2D gratuito para crear directamente en tu navegador. Dise√±a sin l√≠mites, crea sin miedo y publica con orgullo.
                    </p>
                </section>

                <section id="actions">
                    <button id="btn-start">Empezar a Crear</button>
                    <button id="btn-support">Contacto y Soporte</button>
                    <a href="https://www.paypal.com/donate/?hosted_button_id=JZ4KM2VUD6AMQ" target="_blank" rel="noopener noreferrer" class="button-link" id="btn-donate">Donar con PayPal</a>
                    <button id="btn-license">Licencia</button>
                </section>
                 <p class="credits">
                    Hecho por <strong>Carley Interactive Studio</strong> con la ayuda de <strong>Google Jules</strong>.
                </p>
            </div>
        </div>

        <div id="launcher-view" style="display: none;">
            <h2>Mis Proyectos</h2>
            <div id="project-list" class="project-list">
                <!-- Los proyectos se a√±adir√°n aqu√≠ din√°micamente -->
                <p class="no-projects-message">A√∫n no tienes proyectos. ¬°Crea uno para empezar!</p>
            </div>
            <div class="launcher-actions">
                <button id="btn-create-project">Crear Nuevo Proyecto</button>
            </div>
            <div class="storage-warning">
                <p><strong>Aviso Importante:</strong> Tus proyectos se guardan localmente en la carpeta que elijas. Creative Engine no almacena ninguna informaci√≥n en servidores externos.</p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 Carley Interactive Studio</p>
    </footer>
    </div> <!-- Cierre de .container -->

    <!-- Modals -->
    <div id="support-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-support">&times;</span>
            <h2>Contacto y Soporte</h2>
            <form id="contact-form" action="https://formspree.io/f/xldlkbej" method="POST" enctype="multipart/form-data">
                <p>Usa este formulario para enviar sugerencias, consultas o reportar errores. ¬°Tu feedback es muy valioso!</p>
                <label for="contact-email">Tu Correo Electr√≥nico:</label>
                <input id="contact-email" type="email" name="email" placeholder="tu@email.com" required>
                <label for="contact-message">Tu Mensaje:</label>
                <textarea id="contact-message" name="message" placeholder="Escribe tu mensaje, sugerencia o reporte de error aqu√≠..." required></textarea>
                <label for="contact-attachment">Adjuntar captura de pantalla (Opcional):</label>
                <input id="contact-attachment" type="file" name="attachment" accept="image/*" style="margin-bottom: 20px;">
                <button type="submit" class="modal-btn">Enviar Mensaje</button>
            </form>
        </div>
    </div>

    <div id="license-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-license">&times;</span>
            <h2>END USER LICENSE AGREEMENT (EULA)</h2>
            <div class="license-text">
                <p><strong>Copyright (c) 2025 Carley Interactive Studio.</strong> Todos los derechos reservados.</p>

                <h4>Concesi√≥n de licencia</h4>
                <p>El Licenciante otorga al Licenciatario un derecho no exclusivo, intransferible y revocable para utilizar el software en forma binaria ‚Äútal cual‚Äù, √∫nicamente para el desarrollo de videojuegos, conforme a los t√©rminos de este acuerdo.</p>

                <h4>Garant√≠a limitada y soporte</h4>
                <p>El software se proporciona ‚Äútal cual‚Äù, sin garant√≠a expresa o impl√≠cita. Sin embargo, en caso de fallos t√©cnicos o errores graves, el Licenciatario podr√° reportarlos al Licenciante, quien podr√° brindar asistencia t√©cnica sin compromiso de soluci√≥n garantizada.</p>

                <h4>Restricciones de uso</h4>
                <p>El Licenciatario no podr√°, bajo ninguna circunstancia: Copiar, clonar, modificar, distribuir, revender, realizar ingenier√≠a inversa o utilizar el software con fines comerciales no autorizados. En caso de incumplimiento, la licencia podr√° ser revocada.</p>

                <div class="license-highlight">
                    <h4>Derechos sobre los juegos creados</h4>
                    <p><strong>Todo videojuego creado con el motor es 100% propiedad del usuario.</strong> El Licenciante no reclama participaci√≥n en las ganancias ni derechos sobre el contenido generado.</p>
                </div>

                <p>Opcionalmente, el Licenciatario podr√° colaborar con nosotros enviando material de su juego (im√°genes, videos, enlaces) para que podamos usarlo en la promoci√≥n del motor, siempre respetando tu autor√≠a.</p>

                <h4>Duraci√≥n y terminaci√≥n</h4>
                <p>Este acuerdo entra en vigor en la fecha de descarga o instalaci√≥n y permanecer√° vigente hasta su terminaci√≥n. La licencia se extingue autom√°ticamente si el Licenciatario incumple cualquiera de sus t√©rminos.</p>

                <h4>Ley aplicable y jurisdicci√≥n</h4>
                <p>Este acuerdo se regir√° por las leyes de Rep√∫blica Dominicana. Cualquier disputa ser√° sometida a los tribunales competentes de Santo Domingo.</p>

                <p><strong>Al descargar, instalar o usar el software, el Licenciatario acepta √≠ntegramente los t√©rminos de este acuerdo.</strong></p>
            </div>
        </div>
    </div>

    <!-- Auth Modals -->
    <div id="auth-modal" class="modal">
        <div class="modal-content auth-modal-content">
            <span class="close-button" id="close-auth">&times;</span>

            <!-- Login View -->
            <div id="login-view">
                <h2>Iniciar Sesi√≥n</h2>
                <form id="login-form">
                    <label for="login-email">Correo Electr√≥nico:</label>
                    <input id="login-email" type="email" name="email" required autocomplete="email">
                    <label for="login-password">Contrase√±a:</label>
                    <input id="login-password" type="password" name="password" required autocomplete="current-password">
                    <button type="submit" class="modal-btn">Iniciar Sesi√≥n</button>
                    <p class="auth-switch">¬øNo tienes una cuenta? <a href="#" id="goto-signup">Reg√≠strate</a></p>
                    <p class="auth-switch"><a href="#" id="goto-reset">¬øOlvidaste tu contrase√±a?</a></p>
                </form>
            </div>

            <!-- Signup View -->
            <div id="signup-view" style="display: none;">
                <h2>Crear una Cuenta</h2>
                <form id="signup-form">
                    <label for="signup-name">Nombre de Usuario:</label>
                    <input id="signup-name" type="text" name="name" required autocomplete="username">
                    <label for="signup-email">Correo Electr√≥nico:</label>
                    <input id="signup-email" type="email" name="email" required autocomplete="email">
                    <label for="signup-password">Contrase√±a:</label>
                    <input id="signup-password" type="password" name="password" required autocomplete="new-password" minlength="6">
                     <p class="password-hint">La contrase√±a debe tener al menos 6 caracteres.</p>
                    <button type="submit" class="modal-btn">Registrarse</button>
                    <p class="auth-switch">¬øYa tienes una cuenta? <a href="#" id="goto-login">Inicia Sesi√≥n</a></p>
                </form>
            </div>

            <!-- Password Reset View -->
            <div id="reset-password-view" style="display: none;">
                <h2>Recuperar Contrase√±a</h2>
                <form id="reset-password-form">
                    <p>Ingresa tu correo electr√≥nico y te enviaremos un enlace para restablecer tu contrase√±a.</p>
                    <label for="reset-email">Correo Electr√≥nico:</label>
                    <input id="reset-email" type="email" name="email" required autocomplete="email">
                    <button type="submit" class="modal-btn">Enviar Enlace de Recuperaci√≥n</button>
                    <p class="auth-switch"><a href="#" id="back-to-login">Volver a Iniciar Sesi√≥n</a></p>
                </form>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
